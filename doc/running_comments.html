<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<link rel="stylesheet" type="text/css" href="resources/common.css"/>
<title>Running CSI: Additional Comments and Suggestions</title>
</head>
<body>
<div class="toptitle">CSI Guide</div>
<table class="toptable"><tr>
<td class="topprev"><a href="running_optimization.html">&larr; Prev</a></td>
<td class="topnext"><a href="output.html">Next &rarr;</a></td>
</tr></table>
<hr/>
<h1>Running CSI</h1>
<hr class="half"/>
<h3>Additional Comments and Suggestions</h3>
<p>The following are some suggestions regarding ways things could go wrong while
trying to run the CSI compiler, and some additional information about
command-line options.</p>

<p>It’s fine to symlink to the <samp>csi-cc</samp> file, but you
shouldn’t copy it out.  You can move the entire CSI directory as
required, but the relative path between the <samp>Release</samp>
directory and the <samp>Tools</samp> directory (and all files inside
them) must be the same, or things won’t work.</p>

<p>If you get an error like<br/>
<samp class="indent">Error opening '/.../csi/Release/libCSI.so': libLLVM-3.X.so:
cannot open shared object file: No such file or directory</samp><br/>
this means that the LLVM version you built with (see
<a href="building_comments.html">building notes</a> on LLVM_CONFIG)
does not match the one in your <kbd>PATH</kbd>.</p>

<p>The full list of CSI-specific options is as follows</p>
<pre>
USAGE: csi-cc [options] &lt;inputs&gt;

OPTIONS:
  --trace=&lt;file&gt;          Use &lt;file&gt; as the input file for the tracing schemes.
                          If this option is not given, the scheme is read from
                          stdin.
  -csi-opt=&lt;arg&gt;          Use &lt;arg&gt; as the optimization level for CSI
                          instrumentation passes.  Legal values are &lt;0,1,2,3&gt;.
                          (Default: 2)
  -opt-style=&lt;arg&gt;        Use &lt;arg&gt; as the style for CSI optimization level 2.
                          Legal values are &lt;simple,local,local-prepass&gt;.
                          (Default: local-prepass)
  -debug-pass=&lt;arg&gt;       Enable printing of extremely verbose debug messages
                          for the pass specified as &lt;arg&gt;.  This should
                          generally not be used unless debugging instrumentors.
                          &lt;arg&gt; can be any of the supported instrumentors or
                          'all' (which enables debugging for all passes).
  -path-array-size &lt;arg&gt;  Use &lt;arg&gt; as the size of path tracing arrays
                          (Default: 10)
  -hash-size &lt;arg&gt;        Use &lt;arg&gt; as the maximum-size function (in number of
                          acyclic paths) to instrument for path tracing
                          (Default: ULONG_MAX/2+1)
  -complete-exe           Optimize coverage instrumentation further such that
                          accurate coverage information is only guaranteed for
                          complete function executions.  This can potentially
                          improve instrumentation efficiency, but may lose
                          information; thus, it should not be used in normal
                          circumstances.
  -no-filter              Do not filter tracing schemes.  All schemes provided
                          will be used verbatim for functions to which they
                          match.
  --silent                Do not print pass-specific warnings during
                          instrumentation
  
  --help                  Display this help message and exit
  --help-clang            Display additional options (clang's help message) and
                          exit

ENVIRONMENT VARIABLES:
  PT_ARRAY_SIZE           See -path-array-size (above).  Flags have precedence.
  PT_HASH_SIZE            See -hash-size (above).  Flags have precedence.
  CSI_SILENT              Enables or disables the printing of instrumentation
                          warnings.
                          See --silent (above).  Flags have precedence.
</pre>

<hr/>
<table class="toptable"><tr>
<td class="topprev"><a href="running_optimization.html">&larr; Prev</a></td>
<td class="topnext"><a href="output.html">Next &rarr;</a></td>
</tr></table>
<div class="contents_link"><a href="index.html">Contents</a></div>
</body>
</html>
